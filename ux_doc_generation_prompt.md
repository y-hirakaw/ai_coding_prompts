# 機能ブランチ差分からUX設計書自動生成プロンプト

## 前提条件
- iOS/Androidアプリの機能開発で、機能ブランチとメインブランチの差分を分析
- 既存のGoogleスプレッドシート形式のUX設計書テンプレートに合わせて生成
- 事業部、CS、PdM、デザイナーも閲覧し、顧客向けマニュアルの元資料にもなる

## 参考資料
以下の既存UX設計書のフォーマット、文体、構成を参考にして生成してください：

### 参考スプレッドシート
- **メインテンプレート**: [GoogleスプレッドシートURL]
- **類似機能の設計書**: [GoogleスプレッドシートURL] 
- **最新の設計書**: [GoogleスプレッドシートURL]

### 参考時の注意点
- **文体**: 既存の敬語レベル、専門用語の使い方に合わせる
- **構成**: セクション分け、表の項目順序を踏襲する
- **詳細度**: 既存と同程度の説明の深さにする
- **CS向け配慮**: 既存の注意書きや補足説明のパターンを参考にする
- **表現統一**: 似たような機能説明は既存の表現を流用する

## あなたの役割
モバイルアプリ開発のUX設計書作成エキスパートとして、参考スプレッドシートの形式・文体を学習した上で、コード差分から機能の画面設計書を自動生成してください。

まず参考スプレッドシートを分析し、以下を把握してから設計書を作成してください：
- 既存の構成パターン（セクション分け、項目順序）
- 文体・表現方法（敬語レベル、専門用語の扱い）
- CS向け説明の詳細度
- 表の形式とカラム構成
- 注意事項や補足の書き方

## 入力情報
以下の情報を分析して、UX設計書を作成してください：

### 1. Git差分情報
- **機能ブランチ名**: [ブランチ名]
- **変更されたファイル一覧**: [ファイルパス]
- **新規/変更/削除されたクラス**: [クラス名とファイルパス]

### 2. iOS固有の変更
- **ViewControllerクラス**: [変更内容]
- **Storyboard/SwiftUIファイル**: [UI要素の変更]
- **Localizable.stringsの変更**: [新規/変更された文字列]
- **IBOutlet/IBAction**: [UI要素とアクション]

### 3. Android固有の変更
- **Activityクラス**: [変更内容]
- **Fragmentクラス**: [変更内容]
- **レイアウトXMLファイル**: [UI要素の変更]
- **strings.xmlの変更**: [新規/変更された文字列]
- **onClick等のイベント処理**: [UI要素とアクション]

### 4. 共通情報
- **APIエンドポイントの変更**: [新規/変更されたAPI]
- **データモデルの変更**: [Entity/Modelクラス]
- **画面遷移の実装**: [ナビゲーション関連のコード]

## 出力形式
以下の構造でUX設計書を生成してください：

### 機能概要
- **機能名**: [ブランチ名から推測]
- **目的**: [変更内容から推測される機能の目的]
- **対象ユーザー**: [機能の性質から推測]

### 画面一覧
| 画面名 | クラス名 | 説明 | 備考 |
|--------|----------|------|------|
| [画面名] | [iOS: ViewController / Android: Activity] | [画面の役割] | [特記事項] |

### 画面詳細設計

#### [画面名]
**基本情報**
- iOS実装: [ViewControllerクラス名]
- Android実装: [Activity/Fragmentクラス名]
- 画面の役割: [機能説明]

**UI要素**
| 要素名 | 種類 | 表示内容/文言 | 動作 |
|--------|------|---------------|------|
| [要素名] | [Button/Label/TextField等] | [実際の文言] | [タップ時の動作] |

**画面遷移**
- 前画面: [遷移元]
- 次画面: [遷移先]
- 遷移条件: [どういう操作で遷移するか]

**ダイアログ/アラート**
- [ダイアログが表示される条件]
- [表示内容と選択肢]
- [各選択肢の動作]

**バリデーション/エラーハンドリング**
- [入力チェック項目]
- [エラー時の表示内容]

### データフロー
- **API連携**: [使用するAPIと処理内容]
- **画面間のデータ受け渡し**: [パラメータの説明]
- **ローカルストレージ**: [保存する情報]

### 注意事項・補足
- **CS向け補足**: [サポート時に知っておくべき動作]
- **制約事項**: [システム的な制限]
- **今後の拡張予定**: [関連する将来の機能]

## 分析時の注意点

### コード解析のポイント
1. **UI要素の特定**
   - iOS: @IBOutlet、SwiftUIのView要素
   - Android: findViewById、ViewBinding、DataBinding

2. **文言の抽出**
   - iOS: Localizable.strings、直接記述された文字列
   - Android: strings.xml、Kotlinコード内の文字列

3. **画面遷移の特定**
   - iOS: segue、NavigationController、present/dismiss
   - Android: Intent、Fragment transaction、Navigation Component

4. **イベント処理の分析**
   - iOS: @IBAction、Button action、Gesture recognizer
   - Android: onClick、onTouch、各種Listener

### 推測と補完のガイドライン
- **既存パターンの活用**: 参考スプレッドシートで類似機能があれば表現を参考にする
- **不明な部分は「[要確認]」と明記**
- **コードから読み取れる範囲で機能を推測**
- **一般的なUIパターンに基づいて動作を補完**
- **CS向けには既存設計書と同レベルの分かりやすい表現に言い換え**
- **文体・詳細度は参考資料に合わせて統一**

## 出力例（参考）
```
### 画面詳細設計

#### ログイン画面
**基本情報**
- iOS実装: LoginViewController
- Android実装: LoginActivity
- 画面の役割: ユーザー認証を行う初期画面

**UI要素**
| 要素名 | 種類 | 表示内容/文言 | 動作 |
|--------|------|---------------|------|
| メールアドレス入力欄 | TextField | プレースホルダー: "メールアドレス" | 文字入力 |
| パスワード入力欄 | SecureTextField | プレースホルダー: "パスワード" | 文字入力（マスク表示） |
| ログインボタン | Button | "ログイン" | ログイン処理実行 |
| パスワード忘れリンク | Button | "パスワードを忘れた方はこちら" | パスワードリセット画面へ遷移 |

**画面遷移**
- 前画面: アプリ起動時の初期画面
- 次画面: ログイン成功→ホーム画面、パスワード忘れ→パスワードリセット画面
- 遷移条件: ログインボタンタップ、パスワード忘れリンクタップ
```

このプロンプトを使用する際は、まず参考スプレッドシートを分析して既存のフォーマットを学習し、その後で差分情報から新しいUX設計書を自動生成してください。既存の文体・構成・詳細度に合わせることで、CS向けにも開発者向けにも一貫性のある使いやすい設計書が作成されます。